<!DOCTYPE html>
<html lang="ru">
<head>
  <meta charset="UTF-8">
  <title>NewTime Auto</title>
  <style>
    body {
      font-family: sans-serif;
      background: #f4f4f4;
      margin: 0;
      padding: 20px;
    }

    .container {
      display: flex;
      flex-wrap: wrap;
      justify-content: center;
      gap: 20px;
    }

    .car-card {
      background: #fff;
      border-radius: 10px;
      box-shadow: 0 2px 6px rgba(0,0,0,0.1);
      padding: 16px;
      max-width: 300px;
      width: 100%;
    }

    .car-card img {
      width: 100%;
      border-radius: 10px;
      object-fit: cover;
      height: 180px;
    }

    .car-card h2 {
      font-size: 20px;
      margin: 10px 0 5px;
    }

    .car-card p {
      margin: 4px 0;
    }

    .car-card a {
      display: inline-block;
      margin-top: 10px;
      padding: 10px 15px;
      background-color: #2AABEE;
      color: white;
      text-decoration: none;
      border-radius: 5px;
      text-align: center;
    }
  </style>
</head>
<body>
  <h1 style="text-align: center;">Каталог автомобилей</h1>
  <div class="container" id="car-container">Загрузка...</div>

  <script>
    const SHEET_ID = "1e6MBPZ3vmYdgJRHLwQIw2Ehf7TFSdWycgJ9mYnM0Ahk";
    const SHEET_NAME = "Наличие";
    const URL = `https://opensheet.elk.sh/${SHEET_ID}/${SHEET_NAME}`;

    fetch(URL)
      .then(res => res.json())
      .then(data => {
        const container = document.getElementById("car-container");
        container.innerHTML = "";

        data.forEach(car => {
          const card = document.createElement("div");
          card.className = "car-card";

          card.innerHTML = `
            <img src="${car.Фото}" alt="${car.Марка} ${car.Модель}">
            <h2>${car.Марка} ${car.Модель}</h2>
            <p><strong>Год:</strong> ${car.Год}</p>
            <p><strong>Объем:</strong> ${car.Объем}</p>
            <p><strong>Двигатель:</strong> ${car.Двигатель}</p>
            <p><strong>Привод:</strong> ${car.Привод}</p>
            <p><strong>Трансмиссия:</strong> ${car.Трансмиссия}</p>
            <p><strong>Цена:</strong> ${car["Цена, руб."]} ₽</p>
            <p>${car.Описание}</p>
            <a href="https://t.me/newtimeauto_sales?text=Здравствуйте! Интересует авто ${car.Марка} ${car.Модель} (${car.ID})" target="_blank">Задать вопрос в Telegram</a>
          `;

          container.appendChild(card);
        });
      })
      .catch(err => {
        document.getElementById("car-container").innerHTML = "Ошибка загрузки данных.";
        console.error("Ошибка загрузки:", err);
      });
  </script>
</body>
</html>
